module.exports = signUp;

function signUp(username,password,callback){

    if(checkUsername() && checkPassword()){
        this.config.modules['personalinformation_module'].initUser(username,password,executeCallback);
        return true;
    }else{
        return false;
    }

    function checkUsername(){
        var regexpForUsername = new RegExp(/[^\u4e00-\u9fa5\w]/);
        var isUsernameLeagal = ( username != '' && regexpForUsername.test(username) != true);

        if(isUsernameLeagal){
            //console.log('username is leagal');
            return true;
        }else{
            //console.log('username is not leagal');
            return false;
        }
    }

    function checkPassword(){
        var regexpForPassword = new RegExp(/[^\w]/);
        var isPasswordLeagal = ( password != '' && regexpForPassword.test(password) != true);

        if(isPasswordLeagal){
            //console.log('password is leagal');
            return true;
        }else{
            //console.log('password is not leagal');
            return false;
        }
    }

    function executeCallback(argument){
        if(callback!=undefined)
            callback(argument);
    }
}
